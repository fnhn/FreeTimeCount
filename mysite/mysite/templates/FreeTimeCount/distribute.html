<!DOCTYPE html>
<html>
<head>
    <meta http-equiv= "Content-Type" content="text/html;charset=UTF-8"/>
<style type="text/css">
    *{
        padding:0;
        margin:0;
    }
    body{
    	background: rgb(225,226,235);
    }
    table{
		width: 100%;
        margin: auto;
		background-color: white;
    }
    tr{
    	width:auto;
    }
    td{
    	width:auto;
    }
    h1{
    	font-size: 20px;
    	font-family: "DFKai-SB";
        text-align: center;
        margin-top:25px;
    }
            .box1{
            position: relative;
            overflow: hidden;
            width: 800px;
            margin: auto;
        }
            .box2{
            position: relative;
            overflow: hidden;
            padding: 0px 108px 68px;
        }
        .box2 p{
            position: relative;
            margin:10px 55px;
            padding: 38px 0;
        }
        .box2 p label{
            position: relative;
            float: left;
            background: rgb(51,133,255);
            padding: 8px 8px 7px;
            font-size: 1.1em;
        }
        .box2 p .ipt{
            position: relative;
            float: left;
            background: white;
            padding: 3px;
            font-size: 1.5em;
            width: 320px;
            border: 0;
        }
        .box2 p .btn{
            position: relative;
            float: left;
            background: rgb(51,133,255);
            border: 0;
            margin: 0 68px;
            padding: 8px 8px 7px;
            font-size: 1.1em;
            color: white;
        }
        .box2 p .btn:hover{
            background: rgb(51,163,255);
        }
           .box2 p .btn1{
            position: relative;
            float: left;
            background: rgb(51,133,255);
            border: 0;
            margin-left: 0px;
            padding: 8px 8px 7px;
            font-size: 1.1em;
            color: white;
        }
        .box2 p .btn1:hover{
            background: rgb(51,163,255);
        }
        label{
        	color:white;
        }
</style>
<script type="text/javascript">
    function displayInfo(info, id_base) {
        info = info.replace(/&quot;/g, "\"");    
        info = JSON.parse(info);


        for(i = 1; i <= 5; i++) {
            for(j = 0; j < 4; j++) {
                ele = document.getElementById(id_base + i + j);
                ele.innerHTML = info[i - 1][j] == 0 ? "" : info[i - 1][j];
            }
        }
    }
</script>
</head>
<body>
    
	<h1>参考值班表</h1>
    <table border="1">
    <tbody>
        <tr>
            <td>课程表</td>
            <td>星期一</td>
            <td>星期二</td>
            <td>星期三</td>
            <td>星期四</td>
            <td>星期五</td>
        </tr>
        <script type="text/javascript">
            str_arr = ["第1、2节", "第3、4节", "第5、6节", "第7、8节"];

            for(i = 0; i < 4; i++) {
                document.write("<tr><td>" + str_arr[i] + "</td>")
                for(j = 1; j <= 5; j++) {
                    
                    document.write("<td id=\"td" + j + i + "\"></td>");
                }
                document.write("</tr>");
                
            }
        </script>
    </tbody>
    </table>
    <p>没有排到值班的人员有<script type="text/javascript">document.write("{{ free_student }}");</script></p>
    <p>参考表:</p>
    <table border="1">
    <tbody>
        <tr>
            <td>课程表</td>
            <td>星期一</td>
            <td>星期二</td>
            <td>星期三</td>
            <td>星期四</td>
            <td>星期五</td>
        </tr>
        <script type="text/javascript">
            str_arr = ["第1、2节", "第3、4节", "第5、6节", "第7、8节"];

            for(i = 0; i < 4; i++) {
                document.write("<tr><td>" + str_arr[i] + "</td>")
                for(j = 1; j <= 5; j++) {
                    
                    document.write("<td id=\"td_tmp" + j + i + "\"></td>");
                }
                document.write("</tr>");
                
            }
        </script>
    </tbody>
    </table>

    <div class="box1">
        <div class="box2">
        	<form action="#" method="post">
            {% csrf_token %}
            <p>
                <input type="submit" class="btn" name="submit" value="自动分配" />
                <input type="submit" class="btn1" name="submit" value="excel表格下载" />
            </p>
            </form>
        </div>
    </div>
    <script type="text/javascript">
        displayInfo("{{result}}", "td");
        displayInfo("{{result_tmp}}", "td_tmp");
    </script>
</body>
</html>